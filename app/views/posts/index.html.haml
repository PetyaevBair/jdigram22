.posts
  - @posts.each do |post|
    /= render partial: "/posts/partials/post", locals: { post: post }
    - if user_signed_in?
      - csrf_token = form_authenticity_token
      - like = current_user.likes.find_by(likeable_type: "Post", likeable_id: post.id)
      - params_object = {post: post, user: post.user, current_user: current_user, url: url_for(post.image), comments: post.comments, user_url: post.user.image.present? ? url_for(post.user.image) : '', like: like.present? ? like : '', count_likes: post.likes.count, token: csrf_token}
    - else
      - params_object = {post: post, user: post.user, current_user: '', url: url_for(post.image), comments: post.comments, user_url: post.user.image.present? ? url_for(post.user.image) : '', like: '', count_likes: post.likes.count}

    = react_component("Post", params_object) 